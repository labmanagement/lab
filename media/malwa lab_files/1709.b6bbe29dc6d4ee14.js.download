"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1709],{4027:function(a,b,c){var d=c(7568),e=c(6042),f=c(9396),g=c(4051),h=c.n(g),i=c(5893),j=c(9669),k=c.n(j),l=c(7294),m=c(6064),n=c(5152),o=c.n(n),p=c(1163),q=c(5313),r=c(7630),s=o()(function(){return c.e(4449).then(c.bind(c,5800))},{loadableGenerated:{webpack:function(){return[5800]}}}),t=o()(function(){return c.e(3290).then(c.bind(c,3290))},{loadableGenerated:{webpack:function(){return[3290]}}}),u=function(a){return function(b){var c,g,j,n,o,u=(0,m.v9)(function(a){var b,c;return null==a?void 0:null===(b=a.user)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.data}),v=(0,m.v9)(function(a){return null==a?void 0:a.appState}),w=(null==u?void 0:null===(c=u.mobile)|| void 0===c?void 0:c.length)>0?1:0,x=(0,p.useRouter)(),y=(null==x?void 0:null===(g=x.query)|| void 0===g?void 0:null===(j=g.docid)|| void 0===j?void 0:j.length)>0,z=(null==x?void 0:null===(n=x.query)|| void 0===n?void 0:null===(o=n.ncatid)|| void 0===o?void 0:o.length)>0,A="rsltpge",B=1,C="lspg";Boolean(y&&z)?(B=1,C="dtpg",A="dtlpg"):Boolean(y)&&(B=2,C="dtpg",A="dtlpg");var D,E=b.type,F=(0,l.useRef)({show:function(){}}),G={open:!1,statuscode:6,message:"",parameters:null},H=(0,l.useState)((0,e.Z)({},G)),I=H[0],J=H[1],K=(0,l.useState)(!1),L=K[0],M=K[1],N=(0,l.useState)({error:!1,message:"",isOpen:!1}),O=N[0],P=N[1],Q=(D=(0,d.Z)(h().mark(function a(c){var d,g,i,j,l,m,n,o,p,r,s,t,u,x,y,z,D,E,G,H,K,L,N,O,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=void 0===(d=c.magicname)?"":d,i=c.barea,j=void 0===i?"":i,l=c.city,m=c.ncatid,n=c.area,o=c.catname,p=c.lat,r=c.long,s=c.docid,t=c.name,u=c.mobile,x=c.email,y=c.bd,z=c.nearme,D=c.paidstatus,E=c.ver_code,G=void 0===E?"":E,H=c.casetype,K=void 0===H?"sms_email":H,L=c.resendOtp,N=void 0!==L&&L,M(!0),!0==N&&(null===(O=F.current)|| void 0===O||O.show("OTP Resending...")),Q=(null==I?void 0:I.parameters)?null==I?void 0:I.parameters:{city:l,ncatid:m,area:n,catname:o,lat:p,long:r,docid:s,name:t,mobile:u,email:x,is_verified:w,nearme:z,paidstatus:D,barea:j,magicname:g},(null==u?void 0:u.length)>0&&(Q=(0,f.Z)((0,e.Z)({},Q),{mobile:u})),(null==t?void 0:t.length)>0&&(Q=(0,f.Z)((0,e.Z)({},Q),{name:t})),a.prev=6,a.next=10,k().post("/api/submitBestDetal",(0,f.Z)((0,e.Z)({},Q),{ver_code:G,casetype:K,bd:B,frmpg:C,resendOtp:N}),{headers:{"Content-Type":"application/json"}});case 10:return T=a.sent,a.next=13,T.data;case 13:U=a.sent,M(!1),clearTimeout(window.bestDealAutoPopupTimeOut),(null==U?void 0:null===(R=U.results)|| void 0===R?void 0:R.statuscode)==6?(!0==N&&(null===(V=F.current)|| void 0===V||V.show("OTP Resent Successfully")),J(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:Q,open:!0,statuscode:null==U?void 0:null===(b=U.results)|| void 0===b?void 0:b.statuscode,message:null==U?void 0:null===(c=U.results)|| void 0===c?void 0:c.message})})):(null==U?void 0:null===(S=U.results)|| void 0===S?void 0:S.statuscode)==1?($=void 0===(Z=(Y=(null==v?void 0:null===(W=v.resultsPageListing)|| void 0===W?void 0:W.alldata)||{}).bd_text)?"":Z,_=Y.national_catid,aa=void 0===_?"":_,(ab="dtlpg"==A?m:aa)||(ad=(ac=null==I?void 0:I.parameters).ncatid,ab="dtlpg"==A?ad:aa),ae=(null==(ae=sessionStorage.getItem("bdsubmitted"))?void 0:ae.length)>0?ae.concat(",".concat(ab)):ab,"dtpg"==C&&(ae=(null==ae?void 0:ae.length)>0?ae.concat(",".concat(null==Q?void 0:Q.docid)):null==Q?void 0:Q.docid),sessionStorage.setItem("bdsubmitted",ae),"dtlpg"==A?(al=void 0===(ak=(aj=ai=(null==v?void 0:null===(af=v.detailPageData)|| void 0===af?void 0:null===(ag=af[null==Q?void 0:Q.docid])|| void 0===ag?void 0:null===(ah=ag.data)|| void 0===ah?void 0:ah.results)||{}).verified)?"":ak,am=aj.name,an=void 0===am?"":am,ao=aj.paidstatus,ap=void 0===ao?"":ao,aq=aj.bd_detailshow,ar=void 0===aq?{}:aq,as=ar.bd_text,at=void 0===as?"":as,ai&&(0,q.j)({bdtext:at,bdpage:A,ncatid:ab,bname:an,verified:al,paidStatus:ap,docid:null==Q?void 0:Q.docid,position:"",type:"Submit"})):"rsltpge"==A?(ay=null==v?void 0:null===(au=v.resultsPageListing)|| void 0===au?void 0:null===(av=au.data)|| void 0===av?void 0:av.filter(function(a){return a.docid==(null==Q?void 0:Q.docid)})[0],az=null==v?void 0:null===(aw=v.resultsPageListing)|| void 0===aw?void 0:null===(ax=aw.data)|| void 0===ax?void 0:ax.findIndex(function(a){return a.docid==(null==Q?void 0:Q.docid)}),aC=void 0===(aB=(aA=ay||{}).verified)?"":aB,aD=aA.name,aE=void 0===aD?"":aD,aF=aA.paidStatus,aG=void 0===aF?"":aF,aH=aA.docid,aI=void 0===aH?"":aH,ay&&(0,q.j)({bdtext:$,bdpage:A,ncatid:aa,bname:aE,verified:aC,paidStatus:aG,docid:aI,position:az,type:"Submit"}),"function"!=typeof(null==dataLayer?void 0:dataLayer.push)||(null==Q?void 0:Q.docid)||dataLayer.push({event:"form_interaction",page_type:"rsltpge",form_name:(null==Q?void 0:Q.catname)?decodeURIComponent(null==Q?void 0:Q.catname):"",form_step_name:"",form_step_number:"",form_option:"",time_stamp:Date.now()})):console.info("**Note: Datalayer not added best detal**"),J(function(a){var b;return(0,f.Z)((0,e.Z)({},a),{parameters:Q,open:!1,statuscode:null==U?void 0:null===(b=U.results)|| void 0===b?void 0:b.statuscode,message:""})}),P({message:null==U?void 0:null===(X=U.results)|| void 0===X?void 0:X.message,isOpen:!0,error:!1}),setTimeout(function(){P({message:"",isOpen:!1,error:!1}),(null==b?void 0:b.onClose)&&(null==b||b.onClose(null,null,"bestdeal_submit"),document.querySelector("body").classList.remove("no_scroll")),(null==b?void 0:b.onClose)&&(null==b||b.onClose(),document.querySelector("body").classList.remove("no_scroll")),1!=w&&window.location.reload()},2e3)):(null==I?void 0:I.open)== !0?J(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:Q,statuscode:null==U?void 0:null===(b=U.results)|| void 0===b?void 0:b.statuscode,message:null==U?void 0:null===(c=U.results)|| void 0===c?void 0:c.message})}):J(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:Q,open:!1,statuscode:null==U?void 0:null===(b=U.results)|| void 0===b?void 0:b.statuscode,message:null==U?void 0:null===(c=U.results)|| void 0===c?void 0:c.message})}),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(6),console.log("api fetching error");case 22:case"end":return a.stop()}},a,null,[[6,19]])})),function(a){return D.apply(this,arguments)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"".concat((null==I?void 0:I.open)== !0||(null==O?void 0:O.isOpen)== !0?"dn":""),children:(0,i.jsx)(a,(0,f.Z)((0,e.Z)({},b),{onSubmit:Q,apiErrorMsg:null==I?void 0:I.message,apiLoading:L}))}),(null==I?void 0:I.open)== !0?(0,i.jsx)(s,(0,f.Z)((0,e.Z)({},b),{onSubmit:Q,type:void 0===E?"bd":E,apiErrorMsg:null==I?void 0:I.message,onClose:function(){J(function(a){return(0,e.Z)({},G)})},apiLoading:L})):null,(null==O?void 0:O.isOpen)== !0?(0,i.jsx)(t,{error:!1,title:"",body:(null==O?void 0:O.message)||""}):null,(0,i.jsx)(r.Z,{ref:F,error:!1,showSuccessIcon:!0})]})}};b.Z=u},3593:function(a,b,c){c.d(b,{Q:function(){return d},k:function(){return e}});var d={name:"Please enter a valid name",mobile:"Please enter a valid mobile",email:"Please enter a valid email",sec_ques:"Please select a valid option",catarrays:"Please select atleast one option",otp:"Please enter a valid otp"},e={bd:"For your best deals to be considered, please enter the code here.",emailEnquiry:"For your Enquiry to be considered, please enter the code here."}}}])